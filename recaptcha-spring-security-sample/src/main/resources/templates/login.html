<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <script src="https://www.google.com/recaptcha/api.js" async="async" defer="defer"></script>
    <title>reCAPTCHA demo</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>
<body>

<p th:if="${#httpServletRequest.parameterMap.containsKey('error')}" style="color: red">Invalid username or password</p>
<p th:if="${#httpServletRequest.parameterMap.containsKey('recaptchaError')}" style="color: red">Invalid captcha response</p>
<p th:if="${#httpServletRequest.parameterMap.containsKey('logout')}">You have been logged out</p>

<form action="#" th:action="@{/login}" method="post">
    User: <input name="username" type="text" value="user" />
    <br />
    Password: <input name="password" type="password" value="top-secret" />
    <br />
    <div th:if="${#httpServletRequest.getParameter('showRecaptcha')}" class="g-recaptcha" data-sitekey="6LfEQRETAAAAAMxkEr7RHrOE0XEUeeGUgcspSf2J"></div>
    <br />
    <input type="submit" value="Log in" />
</form>

</body>
</html>